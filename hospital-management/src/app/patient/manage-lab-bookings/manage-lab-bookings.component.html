<div class="appointments-container">
  <div class="header-section">
    <div class="header-decoration"></div>
    <h1 class="appointments-title">
      <svg class="title-icon" viewBox="0 0 24 24"><path d="M4,7V19H16V7H4M19,3H9V5H19V18H21V5C21,3.89 20.1,3 19,3Z" /></svg>
      My Lab Bookings
    </h1>
    <p class="appointments-subtitle">View, reschedule, or cancel your scheduled lab tests</p>
  </div>

  <div class="content-section">
    <div class="loading-state" *ngIf="loading">
      <div class="spinner"></div>
      <p>Loading your bookings...</p>
    </div>

    <div class="empty-state" *ngIf="!loading && bookings.length === 0">
      <svg class="empty-icon" viewBox="0 0 24 24"><path d="M19,3H5C3.89,3 3,3.89 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5C21,3.89 20.1,3 19,3M19,19H5V5H19V19M17,17H7V15H17V17M17,13H7V11H17V13M17,9H7V7H17V9Z" /></svg>
      <h3 class="empty-title">No Lab Bookings Found</h3>
      <p class="empty-message">You have not booked any lab tests yet.</p>
    </div>

    <div class="table-responsive" *ngIf="!loading && bookings.length > 0">
      <table class="table table-hover align-middle">
        <thead>
          <tr>
            <th>Test Name</th>
            <th>Date</th>
            <th>Time Slot</th>
            <th>Type</th>
            <th>Status</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let b of bookings">
            <td><strong>{{ b.testName }}</strong></td>
            <td>{{ b.date | date: 'fullDate' }}</td>
            <td>{{ b.timeSlot }}</td>
            <td>{{ b.type }}</td>
            <td>
              <span class="status-badge" [ngClass]="b.status === 'Confirmed' ? 'status-confirmed' : 'status-cancelled'">
                {{ b.status }}
              </span>
            </td>
            <td class="text-center">
              <button class="action-btn btn-primary me-2" (click)="updateBooking(b.booking_id)">Reschedule</button>
              <button class="action-btn btn-danger" (click)="deleteBooking(b.booking_id)">Cancel</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>